---
test_name: "T2_undamped_dt0001"
description: "Test T2: Energy conservation with γ=0 and dt=0.0001. Expected: 100× better conservation than T1 due to O(dt²) error."

# Grid configuration - use validated 128×128 grid
grid:
  size_x: 128
  size_y: 128
  L_domain: 100.0  # Domain size: 100 Planck lengths
  grid_sizes: []   # Single grid test

# Physics parameters (Planck units: ℏ = c = 1, Δ = 1)
physics:
  solver_type: "gpu"         # Use GPU solver (with Strang splitting)
  delta: 1.0                  # Mass gap = Planck mass
  coupling: 0.1               # Kuramoto-Dirac coupling strength
  dt: 0.0001                  # Very small timestep for ultra-high precision
  total_steps: 100000         # 10 time units total (more steps due to smaller dt)
  K: 1.0                      # Kuramoto coupling strength
  damping: 0.0                # *** CRITICAL: Zero damping to test pure conservation ***
  noise_strength: 0.0         # No stochastic noise

# GRID-INDEPENDENT initial conditions
initial_conditions:
  dirac:
    type: "gaussian"
    x0_physical: 50.0          # Start at domain center
    y0_physical: 50.0
    sigma_physical: 3.0        # Width: 3 Planck lengths
    amplitude: 1.0

  kuramoto:
    phase_distribution: "vortex"
    winding_number: 1
    vortex_core_radius: 3.0    # Radius in Planck lengths
    vortex_center_x: 50.0       # Center in Planck lengths
    vortex_center_y: 50.0
    omega_distribution: "zero"  # No frequency distribution

# Operator splitting configuration
operator_splitting:
  enabled: true
  substep_ratios: [10]         # N=10 substeps

# Validation configuration
validation:
  norm_tolerance: 0.00001      # Ultra-strict norm conservation
  energy_tolerance: 0.00000001 # Ultra-strict energy conservation (1e-8)
  convergence_tolerance: 0.001
  enforce_R_bounds: true

# Output configuration
output:
  save_every: 1000             # Save every 0.1 time units
  save_fields: true
  save_observables: true
  formats: ["csv"]