---
test_name: "scenario_2.6B_electromagnetic_coupling"
description: "Phase 2 Scenario 2.6B: Implement electromagnetic potential A_μ = ∂_μθ from Kuramoto phase gradient. Tests if ∇θ couples to spinor as electromagnetic field. Validates emergent electromagnetism from phase dynamics. EXPLORATORY - requires new physics implementation."

# Grid configuration
grid:
  size_x: 128
  size_y: 128
  L_domain: 100.0
  grid_sizes: [128, 256, 512]  # Grid convergence study

# Physics parameters
physics:
  delta: 1.0
  coupling: 0.1
  dt: 0.01
  total_steps: 5000  # Shorter for exploration
  K: 1.0
  damping: 0.1

  # NEW: Electromagnetic coupling
  em_coupling_strength: 0.05  # α_em ~ coupling to A_μ
  test_A_mu_coupling: true     # Enable A_μ = ∂_μθ

# Initial conditions
initial_conditions:
  dirac:
    type: "boosted_gaussian"
    x0_physical: 50.0
    y0_physical: 50.0
    sigma_physical: 3.0
    amplitude: 1.0
    boost_velocities: [0.3, 0.5]  # Test with EM field

  kuramoto:
    # Use phase gradient to create A_μ field
    phase_distribution: "phase_gradient"
    wave_vector_x: 0.1  # Creates A_x = ∂_xθ
    wave_vector_y: 0.0  # Linear phase gradient
    omega_distribution: "zero"
    R_background: 0.8

# Operator splitting
operator_splitting:
  enabled: true
  substep_ratios: [1, 10, 100]  # N-convergence study

# Validation
validation:
  norm_tolerance: 0.01
  energy_tolerance: 0.02
  convergence_tolerance: 0.05
  gamma_tolerance: 0.10  # Relaxed (exploratory)

# Output
output:
  directory: "output/scenario_2.6B_electromagnetic_coupling"
  save_every: 10
  formats: ["csv"]
  save_spatial_snapshots: true
  snapshot_steps: [0, 1000, 2500, 4999]

# Analysis
analysis:
  track_trajectory: true
  measure_velocity: true
  compute_effective_mass: true
  test_gamma_factor: false  # Not primary goal here
  compute_energy: true
  lorentz_invariants: true

  # Electromagnetic field analysis (NEW)
  compute_A_mu_field: true              # A_μ = (φ, A) from ∂_μθ
  measure_E_and_B_fields: true          # E = -∇φ - ∂_tA, B = ∇×A
  test_lorentz_force: true              # F = q(E + v×B) on spinor?
  measure_EM_energy_density: true       # u_EM = (E² + B²)/2
  validate_maxwell_equations: true      # ∇·E = ρ, ∇×B = J + ∂_tE?

  # Key question: Does SMFT naturally produce electromagnetism?
  # If A_μ = ∂_μθ couples correctly, this would be MAJOR discovery
